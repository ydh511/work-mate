# [1주차] WorkMate_4팀 진행상황 공유
## 팀 구성원, 개인 별 역할

### 팀 결성 및 역할 분배

- 박지수: **팀장**, 인증, git 버전관리
- 양동화: 아이디어톤 발표, 아이디어톤 발표용 PPT제작, 근무표 확인 부분 제작
- 윤성빈: 급여 확인 (월급여 관리 / 퇴직금 관리) 제작
- 이서주: 아이디어톤 발표용 PPT 제작, 매장용 커뮤니티 제작
- 이영규: 출퇴근 관리 제작, ERD 제작

## 팀 내부 회의 진행 회차 및 일자

| 날짜         | 진행 방법 | 불참인원      |
|------------| --------- | ------------- |
| 2024.03.13 | Discord   | X             |
| 2024.03.14 | Discord   | 윤성빈님 조퇴 |
| 2024.03.15 | Discord   | 윤성빈님 결석 |

## 현재까지 개발 과정 요약 (최소 500자 이상)

현재까지 진행하고 있는 개발 현황을 기능별 목표, 목표달성률, 성과자체평가(상세히) 작성해주세요.

- 성과자체평가는 ‘기술적으로 새로 알게된 점, 어려웠던 점, 아쉬운 점, 시도해볼 점' 등을 작성해 주시면 됩니다 🙂
- 팀원 각자 현재 구현하고 있는 것을 적어주세요. :)
- ex) 기능별 목표: 암기장 삭제하기 기능 추가 / 목표달성률: 50% - 마켓에서 등록해제는 가능, 내 암기장 삭제는 아직 미구현 / 지속적으로 수정사항이 발생하여 완성도를 올리는 중, 현재 관련 문서 참고 중

### 팀 개발 현황

- 주제 선정 - 아르바이트생과 직원을 위한 출근부 관리 어플리케이션 제작
- 아이디어톤 준비
  - PPT 제작
  - 아이디어톤 피드백 바탕으로 앞으로의 개발 방향을 확인했다.
- 개발 환경 세팅
  - Repository를 새로 생성하고, 각자 branch를 나누어 개발을 시도하였다.
  - dev로 나누어 개발하고 merge하는 방법을 확인해서 추후 시도할 예정이다.
- ERD 제작
  - 엔티티와 관계가 여럿 존재하고 있어 ERD를 그리는데 어려움이 있었다.
  - 현재 ERD의 전체적인 도안은 그려져 있고, 개발 과정에서 필요한 Entity는 추가하고, 컬럼을 수정할 예정이다.

### 팀원 개발 현황

- 박지수
  - 로그인 과정을 구현중에 있다.
  - [x] 토큰 발급 가능하게 함
    - 회원가입하여 DB에 저장된 정보로 토큰이 발급되지 않는 오류가 있었다.
    - `JpaUserDetailsManger`를 사용하여 회원가입한 정보를 저장하도록 수정하여 현재는 회원가입한 `username`과 `password`를 이용하여 `http://localhost:8080/token/validate`에서 토큰 발급을 확인할 수 있다.
  - [x] 회원가입 기능 추가
    - 회원가입 가능하다.
    - 처음 회원가입 기능을 구현했을 시에 이메일 입력이 누락되어 있어 이메일 입력을 필수로 추가하였다.
    - 개발 과정 진행 중에 `Acoount` Entity 자체에 `@Colum(unique=true)`를 작성하니까 제약조건때문에 오류가 발생했다.
    ```java
    Hibernate: alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
    2024-03-15T11:35:26.816+09:00  WARN 2244 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)" via JDBC [[SQLITE_ERROR] SQL error or missing database (near "constraint": syntax error)]
    ```
    - 해당 조건을 해제하고, 서비스에서 유저 생성시에 확인 가능한 로직 추가해 문제를 해결했다.
    - 위의 로직 수정하면서 이메일 체크가 추가적으로 필요하다
    - 입력한 이메일에 대한 `Jakarta Email`기능은 추후 추가 예정이다.
  - [ ] 로그인 후 유저 프로필 확인 가능하게 함
    - 예기치 못한 오류로 해당 과정까지 진행하는데에는 시간이 더 걸릴 것 같다.
    - 다음 주에는 프로필보다는 `OAuth`과정을 먼저 시도할 예정이다.
- 이영규
  - [x] NCP GeoLocation API 연결
  - [x] ERD 작성
  - [ ] API를 활용한 사용자의 출퇴근 요청 시 매장과의 위치 비교 기능 개발 중
    사용자의 위치와 매장의 위치를 비교하는 로직 작성 완료
    개인 스마트폰의 위치정보와 같이, 좀 더 자세한 위치를 받아올 수 있는 방안 고려
  - [ ] Attendance 출근 기능 개발
    출근 중복 체크 부분 진행 중
- 양동화
  근무표 관련 기능인 ScheduleService에 근무표 crud 완료했고 근무표 교환하기까지 구현
  현재 근무일정 crud 개발중
- 이서주
- 윤성빈

## 개발 과정에서 나왔던 질문 (최소 200자 이상)

### ERD 관련 질문

- authorites 테이블의 테이블명이 authorites 로 하는건지 authority 로 하는건지

  1. authorites는 테이블 말고 enum으로 쓰려고 했다.

     authorites로 만드려고 했는데 다른 테이블이 모두 단수라 Authority로 맞추는게 나을것 같아 Authority enum으로 생성했다.

- 마찬가지로 변수명도 authorites인지 authority 인지. 이와 유사하게 1:n의 경우 변수명 뒤에 s를 붙이는건지 아닌지
  1. 1:n인 경우는 보통 List니까 변수명을 복수로 설정하는게 가독성이 더 좋을 것 같다. 이건 다른분들의 의견도 중요할 것 같아 동의를 받고, 복수로 설정하는 방향으로 진행했다.
- workStart 테이블과 workTime 테이블의 차이

  1. workStart 테이블은 해당 매장에 취직했을 때, 언제부터 근무를 시작했는지를 기록하기 위한 테이블이다. 나중에 퇴직금을 계산할 때 최초근무일이 들어가야 할 것 같기 때문에 만들었다.

     workTime 테이블은 근무 테이블이다. 각 매장의 근무표 및 역할지정을 위해 만들었다.’

### 개발 서비스 관련 질문

- 회원가입할 때 직원으로 가입되는 경우에 대해 어떤 식으로 서비스 처리를 할지에 대하여

1. 일반 아르바이트 생 회원가입 페이지와 직원 회원가입 페이지를 나눠서 회원가입한다-> 고려해야할 사항 직원으로 회원가입하는 사람이 그 매장의 직원인지 판단할 수 있는 방법이 없음
2. 아르바이트생으로 일단 회원가입 한 다음에, 직원으로 승격시킨다...->고려해야할 사항 직원인지 아닌지 승인 판단을 위한 컬럼이 필요함...
   1. `businessNumber`를 필수적으로 입력해야 하는 직원용 회원가입 페이지를 만들어 직원의 권한을 부여할 수 있도록 만들었다.

## 개발 결과물 공유

- github: https://github.com/likelion-backend-8th-albamonster/work-mate
![image](/Weekly_Log/images/1주차_활동img.png)